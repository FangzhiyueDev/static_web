<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Title</title>
    <meta content="text/html charset=utf-8" http-equiv="Content-Type">
    <style type="text/css">
        .box{
         width:800px;
            height:600px;
        }
        #editArea{
            width:350px;
            height:500px;
            border:1px solid #ccc;
            padding: 20px;
            margin-left: 5px;
            overflow-scrolling: auto;
        }
        #box{
            width:400px;
            height:540px;
            border:5px outset #ccc;
            padding:5px;
            overflow: paged-y;
        }
        .contentList{
            float: left;
            list-style-type: none;
            width:80px;
            height: 20px;
            border: 1px solid #111111;
            text-align: center;
            background-color: #cccccc;
            margin:0px 5px;
        }

    </style>
    <script type="text/javascript">

        function addEdit(){
            window.onload=function (ev) {
                var ele=document.getElementById("editArea");
                ele.contentEditable="true";
            };

        }

        function getFunc(){
            //文档背景
          var ele=document.getElementById("documentColor");
          var options=ele.children;
          for(var i=1;i<options.length;i++){
              options[i].onclick=function (ev) {
                document.execCommand("backcolor",false,this.value);
                // alert(this.parentElement.children[0].innerText);
                  this.parentElement.children[0].selected="true";
              };
          }
           //风格
          var fontStyle=document.getElementById("fontStyle");
          var options=fontStyle.children;
          for(var i=1;i<options.length;i++){
              options[i].onclick=function (ev) {
                 // alert(this.value);
                  document.execCommand(this.value.toString(),false,null);
                  this.parentElement.children[0].selected="true";
              };
          }
          //链接
          var link=document.getElementById("link");
            var options=link.children;
            for(var i=1;i<options.length;i++){
                options[i].onclick=function (ev) {
                    if(this.innerText=="创建"){
                        var url=window.prompt("请输入链接的url","http://www.baidu.com");
                        document.execCommand("createlink",false,url);
                    }
                    if(this.innerText=="删除"){
                        document.execCommand("unlink",false,null);
                    }
                    this.parentElement.children[0].selected="true";
                }
            }

            //字体大小
            var fontSize=document.getElementById("fontSize");
             var options=fontSize.children;
             for(var i=0;i<options.length;i++){
                 options[i].onclick=function (ev) {
                   document.execCommand("fontsize",false,this.value.toString());
                     this.parentElement.children[0].selected="true";
                 };
             }

           //字体颜色
           var fontColor=document.getElementById("fontColor");
             var options=fontColor.children;
             for(var i=0;i<options.length;i++){
                 options[i].onclick=function (ev) {
                  document.execCommand("forecolor",false,this.value.toString());
                  //alert(this.innerText);
                  if(this.innerText=="自定义"){
                   var colorValue=window.prompt("请输入颜色值","#fff");
                      document.execCommand("forecolor",false,colorValue.toString());
                  }
                     this.parentElement.children[0].selected="true";
                 };
             }

            //标签格式化
         var tagFormat=document.getElementById("tagFormat");
            var options= tagFormat.children;
            for(var i=0;i<options.length;i++){
                options[i].onclick=function (ev) {
                 if(this.innerText=="格式化"){
                     var tag=window.prompt("请输入格式化文本标签");
                   //  document.execCommand("formatblock",false,tag.toString());
                     var tag=document.createElement(tag);
                       var select=window.getSelection();
                       var range=select.getRangeAt(0);//获得选区范围
                     range.surroundContents(tag);
                     this.parentElement.children[0].selected="true";
                 }
                 if(this.innerText=="取消"){
                     document.execCommand("removeformat",false,null);
                     this.parentElement.children[0].selected="true";
                 }

                }
            }

            //缩进
            var indent=document.getElementById("indent");
             var options= indent.children;
             for(var i=0;i<options.length;i++){
                 options[i].onclick=function (ev) {
                     if(this.innerText=="+") {
                         document.execCommand("indent", false, null);
                     }
                     if(this.innerText=="-"){
                         document.execCommand("outdent",false,null);
                     }
                     this.parentElement.children[0].selected="true";
                 };
             }
            //对齐方式
            var justifyStyle=document.getElementById("justifyStyle");
             var options=justifyStyle.children;
             for(var i=0;i<options.length;i++){
                 options[i].onclick=function (ev) {
                     try{
                         if(this.innerText=="居中对齐"){
                             document.execCommand("justifycenter",false,null);
                             if(document.queryCommandState("justifycenter")){

                             }
                         }
                         if(this.innerText=="左对齐"){
                             document.execCommand("justifyleft",false,null);
                         }
                         if(this.innerText=="右对齐"){

                         }
                     }catch(e){

                     }finally {
                         this.parentElement.children[0].selected="true";
                     }

                 }
             }
        }

        /**
         * 更改选中文本的文本对齐方式
         */
        // function changeSelectionTextCellaction(){
        //
        //     var selection;
        //     if(typeof document.getSelection=="function"){
        //         selection=document.getSelection();
        //     }else{
        //         selection=window.getSelection();
        //     }
        //     var select=document.getElementById("select");
        //     select.onclick=function (ev) {
        //         var range=selection.getRangeAt(0);
        //         var p=document.createElement("p");
        //         p.style.textAlign="center";
        //         range.surroundContents(p);
        //     }
        //
        // }
       // changeSelectionTextCellaction();

        //文本框的选择事件
        // function textAreaSelect(){
        //     var ele=document.getElementById("textArea");
        //     ele.onselect=function (ev) {
        //       alert("sdgsgh");
        //     };
        // }

        // function selectArea(){
        //     var ele=document.getElementById("select");
        //     ele.onclick=function (ev) {
        //
        //     }
        // }
        //
        // function movefun(){
        //     var ele=document.getElementsByClassName("contentList");
        //     for(var i=0;i<ele.length;i++){
        //         ele[i].onmouseover=function (ev) {
        //             this.style.backgroundColor="#848388";
        //             this.style.color="#fff";
        //         }
        //         ele[i].onmouseout=function (ev) {
        //             this.style.backgroundColor="#ccc";
        //             this.style.color="#111";
        //         }
        //         ele[i].onclick=function (ev) {
        //           if(this.innerText=="插入hr"){
        //            document.execCommand("inserthorizontalrule",false,null);
        //           }
        //           if(this.innerText=="插入图片"){
        //            var url=window.prompt("请输入图片的地址");
        //            document.execCommand("insertimage",false,"imge005");
        //           }
        //           if(this.innerText=="插入ol"){
        //           document.execCommand("insertorderedlist",false,null);
        //           }
        //           if(this.innerText=="插入ul"){
        //            document.execCommand("insertunorderedlist",false,null);
        //           }
        //           if(this.innerText=="插入p"){
        //            document.execCommand("insertparagraph",false,null);
        //           }
        //         }
        //     }
        //}

        function getBorder(){
            var ele=document.getElementById("rowRange");
            for(var j=0;j<ele.children.length;j++){
                    ele.children[j].onclick=function (ev) {
                        try{
                        if(this.innerText=="+"){
                            var selection=window.getSelection();
                            // alert(selection.toString());
                            var range=selection.getRangeAt(0);
                            var p=document.createElement("p");
                            p.style.lineHeight="30px";
                            range.surroundContents(p);
                        }
                        this.parentElement.children[0].selected="true";

                    }catch(exception){
                    this.parentElement.children[0].selected="true";
                }finally {
                }
                    }
            }
        }

        function submitData(){
            var ele=document.getElementById("submit");
            ele.onclick=function (ev) {
                var dataBox=document.getElementById("editArea");
                var data1=dataBox.innerHTML;
                var box=document.createElement("div");
                //alert(data1);
                box.innerHTML=data1;
                document.body.appendChild(box);
            }
        }

        function title(){
            var title=document.getElementById("title");
            //title.focus();
            //border: 1px dashed #cccccc;
            title.onclick=function (ev) {
                title.focus();
                title.style.border="1px dashed #ccc";
            }
        }



    </script>
</head>
<body>
<div class="box">
    <select style="border: none;" id="rowRange">
        <option>行间距</option>
        <option>+</option>
        <option>-</option>
    </select>
<select style="border: none;" id="documentColor">
    <option>文档颜色</option>
    <option value="#bd2900" style="background-color: #bd2900">红色</option>
    <option value="#bd8200" style="background-color: #bd8200">橙色</option>
    <option  value="#f6ff15" style="background-color: #f6ff15;">黄色</option>
    <option value="#2bff19" style="background-color: #2bff19">绿色</option>
    <option  value="#00ff73" style="background-color: #00ff73">青色</option>
    <option value="#1b00ff" style="background-color: #1b00ff">蓝色</option>
    <option value="#ff00ee" style="background-color: #ff00ee">紫色</option>
    <option value="#111" style="background-color: #111">黑色</option>
    <option value="#fff" style="background-color: #fff">白色</option>
</select>
<select  style="border: none;" id="fontStyle">
    <option>样式</option>
    <option value="bold">加粗</option>
    <option value="italic">斜体</option>
    <option value="copy">拷贝</option>
    <option value="cut">剪切</option>
    <option value="delete">删除</option>
</select>
<select style="border: none;" id="link">
    <option>超链接</option>
    <option>创建</option>
    <option>删除</option>
</select>
<select style="border: none;" id="fontSize">
    <option>字体大小</option>
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
</select>
<select style="border: none" id="fontColor">
    <option>字体颜色</option>
    <option value="#bd2900" style="background-color: #bd2900">红色</option>
    <option value="#bd8200" style="background-color: #bd8200">橙色</option>
    <option  value="#f6ff15" style="background-color: #f6ff15;">黄色</option>
    <option value="#2bff19" style="background-color: #2bff19">绿色</option>
    <option  value="#00ff73" style="background-color: #00ff73">青色</option>
    <option value="#1b00ff" style="background-color: #1b00ff">蓝色</option>
    <option value="#ff00ee" style="background-color: #ff00ee">紫色</option>
    <option value="#ff00ee" style="background-color: #ff00ee">紫色</option>
    <option value="#111" style="background-color: #111">黑色</option>
    <option>自定义</option>
</select>
<select style="border: none" id="tagFormat">
    <option>标签</option>
    <option>格式化</option>
    <option>取消</option>
</select>
<select style="border: none" id="indent">
    <option>缩进量</option>
    <option>+</option>
    <option>-</option>
</select>
<select style="border: none" id="justifyStyle">
    <option>对齐方式</option>
    <option>居中对齐</option>
    <option>左对齐</option>
    <option>右对齐</option>
</select>
    <button id="submit">提交</button>
    <!--<ul>-->
        <!--<li class="contentList" id="insertHr">插入hr</li>-->
        <!--<li class="contentList" id="insertImage">插入图片</li>-->
        <!--<li class="contentList" id="insertOl">插入ol</li>-->
        <!--<li class="contentList" id="insertUl">插入ul</li>-->
        <!--<li class="contentList" id="insertP">插入p</li>-->
    <!--</ul>-->
    <br/>
    <br/>
    <div id="box" class="editarea">
    <div id="editArea" class="editarea">
     <textarea style="width:350px;height: 40px;line-height: 40px; text-align: center; font-size: 18px;" id="title">这里输入标题</textarea>
    </div>
    </div>
    <!--<iframe src="editContent.html" name="frame" style="width:400px;height:540px;"></iframe>-->
</div>
<script type="text/javascript">
   // movefun();
    addEdit();
    getFunc();
    //textAreaSelect();
   //changeSelectionTextCellaction();
   getBorder();
   submitData();
   title();
</script>
</body>
</html>
